{"version":3,"file":"index.js","sources":["../src/HeadDatePicker.js","../src/ItemDatePicker.js","../src/MainDatePicker.js","../src/DatePicker.js"],"sourcesContent":["import React, {useState} from 'react';\nimport s from \"./HeadDatePicker.module.scss\";\n\n\nexport const HeadDatePicker = ({date, setDate}) => {\n\n    const monthArr = ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь',\n        'Юиль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'];\n\n    const yearsArr = [];\n    for (let i = 0; i < 77; i++) yearsArr.push(new Date().getFullYear() - i);\n\n    const [select, setSelect] = useState(false);\n\n    const selectedYear = (e) => {\n        console.log(e.target.innerHTML)\n        if (select) {\n            let newDate = new Date(date);\n            newDate.setFullYear(e.target.innerHTML);\n            setDate(newDate);\n        }\n        setSelect(!select);\n    };\n\n    const changeMonth = (e) => {\n        let newDate = new Date(date);\n        let activeMonth = date.getMonth();\n        if (e.target.getAttribute('type') === 'left') {\n            activeMonth = activeMonth === 0 ? 11 : activeMonth - 1;\n            if (activeMonth === 11) newDate.setFullYear(date.getFullYear() - 1);\n        } else {\n            activeMonth = activeMonth === 11 ? 0 : activeMonth + 1;\n            if (activeMonth === 0) newDate.setFullYear(date.getFullYear() + 1);\n        }\n        newDate.setMonth(activeMonth);\n        setDate(newDate);\n    };\n\n    return (\n        <div className={s.HeadDatePicker}>\n            <div className={s.Month}>\n                <svg type='left' onClick={changeMonth} width=\"50\" height='30' viewBox=\"0 0 6.82666 6.82666\"\n                     xmlns=\"http://www.w3.org/2000/svg\">\n                    <path className=\"fil0\"\n                          d=\"M5.76 3.62667c0.117819,0 0.213335,-0.0955157 0.213335,-0.213335 0,-0.117819 -0.0955157,-0.213335 -0.213335,-0.213335l-4.69334 0c-0.117819,0 -0.213335,0.0955157 -0.213335,0.213335 0,0.117819 0.0955157,0.213335 0.213335,0.213335l4.69334 0z\"\n                          id=\"_506615984\"/>\n                    <path className=\"fil0\"\n                          d=\"M2.4487 5.09704c0.0833031,0.0833031 0.218366,0.0833031 0.301669,0 0.0833031,-0.0833031 0.0833031,-0.218366 0,-0.301669l-1.38204 -1.38204 1.38204 -1.38204c0.0833031,-0.0833031 0.0833031,-0.218366 0,-0.301669 -0.0833031,-0.0833031 -0.218366,-0.0833031 -0.301669,0l-1.53163 1.53163 -0.00125984 0.00122835c-0.083311,0.083311 -0.083311,0.21839 0,0.301701l1.5748e-005 -1.5748e-005 1.53287 1.53288z\"\n                          id=\"_506616128\"/>\n                </svg>\n                <span> {monthArr[date.getMonth()]} </span>\n                <svg type='right' onClick={changeMonth} width=\"50\" height='30' viewBox=\"0 0 6.82666 6.82666\"\n                     xmlns=\"http://www.w3.org/2000/svg\">\n                    <path className=\"fil0\"\n                          d=\"M1.06666 3.2c-0.117819,0 -0.213335,0.0955157 -0.213335,0.213335 0,0.117819 0.0955157,0.213335 0.213335,0.213335l4.69334 0c0.117819,0 0.213335,-0.0955157 0.213335,-0.213335 0,-0.117819 -0.0955157,-0.213335 -0.213335,-0.213335l-4.69334 0z\"/>\n                    <path className=\"fil0\"\n                          d=\"M4.37796 1.72962c-0.0833031,-0.0833031 -0.218366,-0.0833031 -0.301669,0 -0.0833031,0.0833031 -0.0833031,0.218366 0,0.301669l1.38204 1.38204 -1.38204 1.38204c-0.0833031,0.0833031 -0.0833031,0.218366 0,0.301669 0.0833031,0.0833031 0.218366,0.0833031 0.301669,0l1.53163 -1.53163 0.00125984 -0.00122835c0.083311,-0.083311 0.083311,-0.21839 0,-0.301701l-1.5748e-005 1.5748e-005 -1.53287 -1.53288z\"/>\n                </svg>\n            </div>\n            <div className={s.Year} onClick={()=>setSelect(!select)}>\n                <span className={s.select}>{date.getFullYear()}</span>\n                <svg className={select ? s.active : ''}  type='right' width=\"24\" height='24' viewBox=\"0 0 32 32\"  xmlns=\"http://www.w3.org/2000/svg\" >\n                    <path d=\"M16,21a1,1,0,0,1-.71-.29l-8-8a1,1,0,1,1,1.42-1.42L16,18.59l7.29-7.3a1,1,0,0,1,1.42,1.42l-8,8A1,1,0,0,1,16,21Z\"/>\n                </svg>\n                <div className={s.selectContainer} style={{display: `${select ? '' : 'none'}`}}>\n                    {yearsArr.map(el => <span key={el} onClick={selectedYear} className={s.selectItem}>{el}</span>)}\n                </div>\n            </div>\n        </div>\n    )\n};\n","import React from 'react';\nimport s from \"./ItemDatePicker.module.scss\";\n\nexport const ItemDatePicker = ({el,setActiveDate}) => {\n\n    const changeActiveItem = (e) => {\n        setActiveDate(el);\n    };\n    return (\n        <div onClick={changeActiveItem}\n             className={s.ItemDatePicker +' '+\n             (el.type !== 'now' ? s.noActive :false) + ' ' +\n             (el.active ? s.active :false)}\n        >\n            {el.date.getDate()}\n        </div>\n    )\n};","import React, {useState, useEffect} from 'react';\nimport s from \"./MainDatePicker.module.scss\";\nimport {ItemDatePicker} from \"./ItemDatePicker\";\n\nexport const MainDatePicker = ({date, setActiveDate, listActiveDate, setListActiveDate}) => {\n\n    const [listDateItem, setListDateItem] = useState([]);\n    useEffect(() => {createListDateItem()}, [date]);\n\n    const checkActiveItem = (newDate) => {\n        let bool = false;\n        for (let i = 0; i < listActiveDate.length; i++) {\n            if (listActiveDate[i].toLocaleDateString() === newDate.toLocaleDateString()) {\n                bool = true;\n            }\n        }\n        return bool;\n    };\n\n    const createListDateItem = () => {\n        // последний день месяца (28-31)\n        const lastDay = new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\n        // последний день прошедшего месяца (28-31)\n        const oldMonthLastDay = new Date(date.getFullYear(), date.getMonth(), 0).getDate();\n        // день недели первого дня месяца\n        const nameWeekFirstDay = new Date(date.getFullYear(), date.getMonth(), 1).getDay();\n        let arr = [];\n        for (let i = 0; i < nameWeekFirstDay - 1; i++) {\n            let newDate = new Date(date.getFullYear(), date.getMonth() - 1, oldMonthLastDay - i);\n            arr.unshift({\n                date: newDate,\n                type: 'old',\n                active: checkActiveItem(newDate)\n            });\n        }\n        for (let i = 1; i <= lastDay; i++) {\n            let newDate = new Date(date.getFullYear(), date.getMonth(), i);\n            arr.push({\n                date: newDate,\n                type: 'now',\n                active: checkActiveItem(newDate)\n            });\n        }\n        let count = 36 - arr.length;\n        for (let i = 1; i < count; i++) {\n            let newDate = new Date(date.getFullYear(), date.getMonth() + 1, i);\n            arr.push({\n                date: newDate,\n                type: 'future',\n                active: checkActiveItem(newDate)\n            });\n        }\n        if (arr.length > 35) {\n            let count = 43 - arr.length;\n            for (let i = 1; i < count; i++) {\n                let newDate = new Date(date.getFullYear(), date.getMonth() + 1, i);\n                arr.push({\n                    date: newDate,\n                    type: 'future',\n                    active: checkActiveItem(newDate)\n                });\n            }\n        }\n        setListDateItem(arr);\n    };\n\n    return (\n        <div className={s.MainDatePicker}>\n            <div className={s.mainTitle}>\n                <span>ПН</span><span>ВТ</span><span>СР</span><span>ЧТ</span>\n                <span>ПТ</span><span>СБ</span><span>ВС</span>\n            </div>\n            <div className={s.mainBox}>\n                {listDateItem.map(el => <ItemDatePicker key={el.date}\n                                                        el={el}\n                                                        setActiveDate={setActiveDate}\n                />)}\n            </div>\n        </div>\n    )\n};","import React, {useState, useEffect} from 'react';\nimport s from './DatePicker.module.scss';\nimport {HeadDatePicker} from \"./HeadDatePicker\";\nimport {MainDatePicker} from \"./MainDatePicker\";\n\nexport function DatePicker({mode = 'one', height = 300, width = 300, callback = undefined} = {}) {\n\n    const [date, setDate] = useState(new Date(new Date().setHours(0, 0, 0, 0)));\n    const [listActiveDate, setListActiveDate] = useState(mode !== 'two' ? [date] : [date, date]);\n    const [listRangeDate, setListRangeDate] = useState([date]);\n\n    useEffect(() => {\n        let newData = [];\n        if (callback) {\n            if (mode !== 'range') {\n                for (let item of listActiveDate) {\n                    newData.push(item.getTime())\n                }\n            }\n            if (mode === 'range') {\n                for (let item of listRangeDate) {\n                    newData.push(item.getTime())\n                }\n            }\n        }\n        returnData(newData);\n    }, [date]);\n\n    const returnData = (data) => {\n        if (callback) callback(data);\n    };\n\n    const setRangeActiveDate = (startDate, endDate) => {\n        let newArr = [new Date(startDate)];\n        while (newArr[newArr.length - 1] < endDate) {\n            newArr.push(new Date(newArr[newArr.length - 1].getTime() + 86400000))\n        }\n        setListActiveDate(newArr);\n    };\n\n    const setActiveDate = (el) => {\n        let newListActiveDate = new Array(...listActiveDate);\n        let positionItem = new Date(el.date.toDateString()).getTime();\n\n        switch (mode) {\n            case 'one': {\n                setDate(el.date);\n                setListActiveDate([el.date]);\n                break\n            }\n            case 'two': {\n                let minActiveItem = new Date(listActiveDate[0].toDateString()).getTime();\n                let maxActiveItem = new Date(listActiveDate[1].toDateString()).getTime();\n                if (positionItem < minActiveItem) {\n                    setDate(el.date);\n                    setListActiveDate([el.date, new Date(maxActiveItem)]);\n                } else if (positionItem > maxActiveItem) {\n                    setDate(el.date);\n                    setListActiveDate([new Date(minActiveItem), el.date]);\n                } else if (positionItem > minActiveItem && positionItem < maxActiveItem) {\n                    (positionItem - minActiveItem < maxActiveItem - positionItem)\n                        ? setListActiveDate([el.date, new Date(maxActiveItem)])\n                        : setListActiveDate([new Date(minActiveItem), el.date]);\n                    setDate(el.date);\n                } else if (positionItem === minActiveItem || positionItem === maxActiveItem) {\n                    setListActiveDate([new Date(positionItem), new Date(positionItem)]);\n                    setDate(el.date);\n                }\n                break\n            }\n            case 'range': {\n                let minActiveItem = new Date(listRangeDate[0].toDateString()).getTime();\n                let maxActiveItem = new Date(listRangeDate[0].toDateString()).getTime();\n                for (let i = 0; i < listRangeDate.length; i++) {\n                    (listRangeDate[i].getTime() < minActiveItem)\n                        ? minActiveItem = new Date(listRangeDate[i].toDateString()).getTime()\n                        : maxActiveItem = new Date(listRangeDate[i].toDateString()).getTime();\n                }\n                if (positionItem < minActiveItem) {\n                    setRangeActiveDate(new Date(positionItem), new Date(maxActiveItem));\n                    setDate(el.date);\n                    setListRangeDate([el.date, new Date(maxActiveItem)]);\n                } else if (positionItem > maxActiveItem) {\n                    setRangeActiveDate(new Date(minActiveItem), new Date(positionItem));\n                    setDate(el.date);\n                    setListRangeDate([new Date(minActiveItem), el.date]);\n                } else if (positionItem > minActiveItem && positionItem < maxActiveItem) {\n                    if (positionItem - minActiveItem < maxActiveItem - positionItem) {\n                        setRangeActiveDate(new Date(positionItem), new Date(maxActiveItem));\n                        setListRangeDate([el.date, new Date(maxActiveItem)])\n                    } else {\n                        setRangeActiveDate(new Date(minActiveItem), new Date(positionItem));\n                        setListRangeDate([new Date(minActiveItem), el.date]);\n                    }\n                    setDate(el.date);\n                } else if (positionItem === minActiveItem || positionItem === maxActiveItem) {\n                    setRangeActiveDate(new Date(positionItem), new Date(positionItem));\n                    setListRangeDate([new Date(positionItem)]);\n                    setDate(el.date);\n                }\n                break\n            }\n            case\n            'multiple'\n            : {\n                if (!el.active && !newListActiveDate.includes(el.date, 0)) {\n                    newListActiveDate.push(el.date)\n                } else {\n                    let i = newListActiveDate.findIndex(e => e.toDateString() === el.date.toDateString());\n                    newListActiveDate.splice(i, 1);\n                }\n                el.active = !el.active;\n                setListActiveDate(newListActiveDate);\n                setDate(el.date);\n                break\n            }\n        }\n\n    };\n\n    return (\n        <div className={s.DatePicker}>\n            <HeadDatePicker date={date} setDate={setDate}/>\n            <MainDatePicker setActiveDate={setActiveDate} date={date}\n                            setDate={setDate} listActiveDate={listActiveDate} setListActiveDate={setListActiveDate}/>\n        </div>\n    );\n}\n\nexport default DatePicker;\n"],"names":["HeadDatePicker","date","setDate","monthArr","yearsArr","i","push","Date","getFullYear","useState","select","setSelect","selectedYear","e","console","log","target","innerHTML","newDate","setFullYear","changeMonth","activeMonth","getMonth","getAttribute","setMonth","React","s","Month","Year","active","selectContainer","display","map","el","selectItem","ItemDatePicker","setActiveDate","changeActiveItem","type","noActive","getDate","MainDatePicker","listActiveDate","listDateItem","setListDateItem","useEffect","createListDateItem","checkActiveItem","bool","length","toLocaleDateString","lastDay","oldMonthLastDay","nameWeekFirstDay","getDay","arr","unshift","count","mainTitle","mainBox","DatePicker","mode","callback","undefined","setHours","setListActiveDate","listRangeDate","setListRangeDate","newData","item","getTime","returnData","data","setRangeActiveDate","startDate","endDate","newArr","newListActiveDate","Array","positionItem","toDateString","minActiveItem","maxActiveItem","includes","findIndex","splice"],"mappings":"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"}